<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Документация: Создание игр на Dragon Adventure</title>
  <style>
    body {
      background: #010139;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px 40px;
      line-height: 1.6;
    }
    h1, h2, h3 {
      color: #00bfff;
      margin-top: 1.5em;
    }
    code, pre {
      background: #02124a;
      color: #a0d8ef;
      padding: 5px 8px;
      border-radius: 5px;
      font-family: Consolas, monospace;
      font-size: 0.9em;
      overflow-x: auto;
    }
    pre {
      padding: 15px;
      margin: 10px 0 20px;
    }
    ul {
      padding-left: 20px;
    }
  </style>
</head>
<body>

<h1>Документация: Создание игр на TextEngine</h1>

<p><strong>TextEngine</strong> — это движок для текстовых приключений, где вся игра описывается в формате JSON. Ниже описаны правила и структура, по которым пишутся игры для него.</p>

<h2>1. Общая структура сценария (JSON)</h2>

<p>Сценарий — это объект, ключи которого — идентификаторы сцен, а значения — объекты с описанием сцены.</p>

<pre>{
  "sceneId": {
    "text": "Текст сцены с возможными переменными и командами",
    "choices": [
      {
        "text": "Текст варианта выбора",
        "next": "следующая_сцена",
        "condition": "условие (опционально)"
      },
      ...
    ]
  },
  ...
}</pre>

<h2>2. Поле <code>text</code></h2>
<ul>
  <li>Текст, который будет показываться игроку.</li>
  <li>Можно вставлять переменные в формате <code>{varName}</code> — они заменятся текущими значениями из состояния.</li>
  <li>Можно задавать команды изменения состояния — <code>{set varName = значение}</code>. Значение поддерживает JSON-парсинг (числа, строки, булевы).</li>
</ul>

<h2>3. Поле <code>choices</code></h2>
<ul>
  <li>Массив вариантов выбора, которые игрок может сделать.</li>
  <li>Каждый элемент — объект с полями:
    <ul>
      <li><code>text</code> — текст варианта, который увидит игрок;</li>
      <li><code>next</code> — ID сцены, на которую переходит игра при выборе;</li>
      <li><code>condition</code> (опционально) — условие, при котором вариант отображается.</li>
    </ul>
  </li>
</ul>

<h2>4. Формат условий (<code>condition</code>)</h2>
<p>Условия — простые выражения с одной операцией, поддерживаются операторы:</p>
<ul>
  <li><code>==</code> — равно</li>
  <li><code>!=</code> — не равно</li>
  <li><code>&gt;</code> — больше</li>
  <li><code>&lt;</code> — меньше</li>
  <li><code>&gt;=</code> — больше или равно</li>
  <li><code>&lt;=</code> — меньше или равно</li>
</ul>

<p>Примеры условий:</p>
<ul>
  <li><code>hasKey == true</code></li>
  <li><code>health &gt; 10</code></li>
  <li><code>level != 5</code></li>
</ul>

<h2>5. Пример простой игры</h2>

<pre>{
  "start": {
    "text": "Вы проснулись в тёмной комнате. У вас есть {hasKey} ключ.",
    "choices": [
      {
        "text": "Взять ключ",
        "next": "got_key",
        "condition": "hasKey == false"
      },
      {
        "text": "Открыть дверь",
        "next": "door",
        "condition": "hasKey == true"
      }
    ]
  },
  "got_key": {
    "text": "{set hasKey = true}Вы взяли ключ.",
    "choices": [
      {
        "text": "Вернуться",
        "next": "start"
      }
    ]
  },
  "door": {
    "text": "Вы открыли дверь и вышли наружу.",
    "choices": []
  }
}</pre>

<h2>6. Рекомендации</h2>
<ul>
  <li>Идентификаторы сцен должны быть уникальными строками.</li>
  <li>Переменные состояния можно создавать в любом месте через <code>{set}</code> и использовать далее.</li>
  <li>Для управления сложной логикой можно использовать условия в выборах.</li>
  <li>Текст можно разбивать на несколько <code>{set}</code> команд, чтобы обновлять состояние по мере прогресса.</li>
</ul>

<h2>7. Итоги</h2>
<p>Создавать игру просто: пишешь JSON с нужными сценами и выборами, вставляешь переменные и команды <code>{set}</code> для логики, задаёшь условия на выборы — и готово!</p>

<a href="index.html">Обратно на главную</a>

</body>
</html>
